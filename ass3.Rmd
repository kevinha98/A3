---
title: "Assignment 3"
author:
- Kevin Ha - 571821
- Ola Andre Olofsson - 170745
fontsize: 12pt
linestrech: 1.5
output:
  pdf_document: default
  html_document:
    df_print: paged
  word_document: default
lang: no-NB
---

```{r setup, message=FALSE, echo = FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(styler)
library(tibble)
library(tidyverse)
options(scipen = 999)
```

# Answer the following questions
1. What information does the file ddf_concepts.csv contain?
Den inneholder blant annet "description" av diverse variabler.

2. What information does the file ddf--entities--geo--country.csv contain?
Den tilskriver land ulike faktorer som:
* Innenlandsstat eller stat med kystlinje
* Geografiske koordinater med lengde- og breddegrader
* Hovedreligion
* Medlemskap i FN

3. What information does the file ddf--entities--geo--un_sdg_region.csv contain?
Den inneholder informasjon om åtte ulike regioner som er FN-regioner. Dette fremkommer delvis av filnavnet som inneholder UN. SDG tenker jeg står for Sustainable Development Goals, men ser ikke helt sammenhengen her ennå.

4. What variables does the gapminder dataset from the gapminder package contain? To what continent are Australia and New Zealand assigned?
```{r}
library(gapminder)
View(gapminder)
```
Australia og New Zealing er angitt til Oseania. Datasettet viser landsliste med kontinentnavn, forventet levealder, BNP og populasjon.

5. Recreate the continent variable in gapminder with the new data. Only include countries that have a iso3166_1_alpha3 code. Use data from ddf--entities--geo--country.csv and call this tibble g_c. Let g_c be your main tibble in the following, i.e. add variables to this tibble.

```{r g_c}
library(readr)
g_c <- read_csv("data/ddf--entities--geo--country.csv")
as_tibble(g_c)
```

```{r kontinenter}
# Angir ønsket navn, g_c, til datasettet

g_c <- g_c %>%
  
# Lager ny variabel med case_when-funksjonen som lar oss vektorisere flere vilkår (statements) samtidig
  mutate(continent = case_when(
     world_4region == "asia" & un_sdg_region %in% c(
       "un_australia_and_new_zealand",
       "un_oceania_exc_australia_and_new_zealand") ~ "Oceania",

    world_4region ==  "asia" & !(un_sdg_region %in% c(
      "un_australia_and_new_zealand",
      "un_oceania_exc_australia_and_new_zealand")) ~ "Asia",

    world_4region == "africa" ~ "Africa",
    world_4region == "americas" ~ "Americas",
    world_4region ==  "europe" ~ "Europe")
  ) %>%
 filter(!is.na(iso3166_1_alpha3))
```

6. How many countries are there now?
```{r}
# Teller antall rader med land, og vi får 247 land
nrow(g_c)

# Alternativt kan vi bruke length(unique)
length(unique(g_c$country))
```

6 / 7 ?. How many countries are there now in each continent?
```{r}
g_c %>%
  group_by(continent) %>%
  summarise(countries = length(unique(country)))
```

